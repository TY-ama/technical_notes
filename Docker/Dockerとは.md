---
tags:
  - t-notes/Docker
  - t-notes/AIç”Ÿæˆ
datetimeCreate: 2025-07-08 22:54
---
ã¯ã„ã€æ‰¿çŸ¥ã„ãŸã—ã¾ã—ãŸï¼Dockerã€ç‰¹ã«ã€Œã‚¤ãƒ¡ãƒ¼ã‚¸ã€ã®æ¦‚å¿µã¯ã€åˆã‚ã¦ã ã¨å°‘ã—æˆ¸æƒ‘ã„ã¾ã™ã‚ˆã­ã€‚
å¤§ä¸ˆå¤«ã§ã™ã€æ–™ç†ã«ä¾‹ãˆãªãŒã‚‰ã€èª°ã«ã§ã‚‚ã‚ã‹ã‚‹ã‚ˆã†ã«èª¬æ˜ã—ã¾ã™ã­ã€‚

---

### Dockerã£ã¦ã€ãã‚‚ãã‚‚ä½•ï¼Ÿ

ä¸€è¨€ã§ã„ã†ã¨ã€**ã€Œã€ã©ã“ã§ã‚‚åŒã˜ã‚ˆã†ã«å‹•ãã€é–‹ç™ºç’°å¢ƒã‚’ã€ã‹ã‚“ãŸã‚“ã«ä½œã‚Œã‚‹é­”æ³•ã®ç®±ã€**ã§ã™ã€‚

æ˜”ã¯ã€ã“ã‚“ãªå•é¡ŒãŒã‚ˆãã‚ã‚Šã¾ã—ãŸã€‚

*   **Aã•ã‚“ï¼š** ã€Œåƒ•ã®ãƒ‘ã‚½ã‚³ãƒ³ã§ã¯ã“ã®ã‚¢ãƒ—ãƒªå‹•ã„ãŸã‚ˆï¼ã¯ã„ã€ã©ã†ãï¼ã€
*   **Bã•ã‚“ï¼š** ã€Œã‚ã‚Œï¼Ÿç§ã®ãƒ‘ã‚½ã‚³ãƒ³ã ã¨ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦å‹•ã‹ãªã„â€¦ãªã‚“ã§ï¼Ÿã€

ã“ã‚Œã¯ã€Aã•ã‚“ã¨Bã•ã‚“ã®ãƒ‘ã‚½ã‚³ãƒ³ã«å…¥ã£ã¦ã„ã‚‹OSã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„ã€ãã®ä»–ã®ã‚½ãƒ•ãƒˆï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨è¨€ã„ã¾ã™ï¼‰ãŒå¾®å¦™ã«é•ã£ãŸã“ã¨ãŒåŸå› ã§ã™ã€‚ã“ã®ã€Œç’°å¢ƒã®é•ã„ã€ã¯ã€é–‹ç™ºè€…ã«ã¨ã£ã¦æ°¸é ã®æ‚©ã¿ã§ã—ãŸã€‚

Dockerã¯ã€ã“ã®**ã€Œç’°å¢ƒã®é•ã„ã€å•é¡Œã‚’è§£æ±ºã—ã¾ã™ã€‚**
ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã€å¿…è¦ãªOSã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã”ã¨**ã€Œã‚³ãƒ³ãƒ†ãƒŠã€ã¨ã„ã†ç®±**ã«å…¨éƒ¨è©°ã‚è¾¼ã‚“ã§ã—ã¾ã„ã¾ã™ã€‚ã“ã®ç®±ã”ã¨æ¸¡ã›ã°ã€ç›¸æ‰‹ã®ãƒ‘ã‚½ã‚³ãƒ³ãŒWindowsã§ã‚‚Macã§ã‚‚ã€åŒã˜ã‚ˆã†ã«å‹•ã‹ã™ã“ã¨ãŒã§ãã‚‹ã®ã§ã™ã€‚



---

### æœ¬é¡Œï¼šã€Œã‚¤ãƒ¡ãƒ¼ã‚¸ã€ã¨ã€Œã‚³ãƒ³ãƒ†ãƒŠã€ã£ã¦ä½•ï¼Ÿ

ã“ã“ãŒä¸€ç•ªå¤§äº‹ãªãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚æ–™ç†ã«ä¾‹ãˆã‚‹ã¨ã€ä¸€ç¬ã§ç†è§£ã§ãã¾ã™ã€‚

*   **ã‚¤ãƒ¡ãƒ¼ã‚¸ (Image) ï¼ æ–™ç†ã®ã€Œãƒ¬ã‚·ãƒ” ï¼‹ é£Ÿæã‚»ãƒƒãƒˆã€**
*   **ã‚³ãƒ³ãƒ†ãƒŠ (Container) ï¼ ãƒ¬ã‚·ãƒ”é€šã‚Šã«ä½œã£ãŸã€Œæ–™ç†ã€ãã®ã‚‚ã®**

è©³ã—ãè¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚

#### 1. Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ (Image) ğŸ–¼ï¸
ã“ã‚Œã¯ã€**ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å‹•ã‹ã™ã®ã«å¿…è¦ãªã‚‚ã®ä¸€å¼ã‚’ã¾ã¨ã‚ãŸã€Œè¨­è¨ˆå›³ã€ã‚„ã€Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€**ã®ã“ã¨ã§ã™ã€‚

*   **ä¸­èº«ã¯ï¼Ÿ**
    *   æœ€å°é™ã®OSï¼ˆLinuxãªã©ï¼‰
    *   ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æœ¬ä½“ï¼ˆã‚ãªãŸãŒä½œã£ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼‰
    *   å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ï¼ˆä¾‹: Python, Node.js, MySQLãªã©ï¼‰
    *   å„ç¨®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

*   **ç‰¹å¾´ã¯ï¼Ÿ**
    *   **ãŸã ã®è¨­è¨ˆå›³**ãªã®ã§ã€ã“ã‚Œè‡ªä½“ã¯å‹•ãã¾ã›ã‚“ã€‚
    *   ä¸€åº¦ä½œã£ãŸã‚‰**å¤‰æ›´ã§ãã¾ã›ã‚“**ï¼ˆèª­ã¿å–ã‚Šå°‚ç”¨ï¼‰ã€‚
    *   ä¾‹ãˆã‚‹ãªã‚‰ã€ã€Œã‚«ãƒ¬ãƒ¼ã®ãƒ¬ã‚·ãƒ”ã¨ã€åˆ‡ã‚‹å‰ã®ã‚¸ãƒ£ã‚¬ã‚¤ãƒ¢ãƒ»äººå‚ãƒ»è‚‰ãƒ»ã‚«ãƒ¬ãƒ¼ãƒ«ãƒ¼ãŒå…¨éƒ¨å…¥ã£ãŸæ–™ç†ã‚­ãƒƒãƒˆã€ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ã¾ã é£Ÿã¹ã‚‰ã‚Œã¾ã›ã‚“ã‚ˆã­ã€‚

#### 2. Dockerã‚³ãƒ³ãƒ†ãƒŠ (Container) ğŸš¢
ã“ã‚Œã¯ã€**ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã„ã†è¨­è¨ˆå›³ã‚’å…ƒã«ä½œã‚‰ã‚ŒãŸã€å®Ÿéš›ã«å‹•ã„ã¦ã„ã‚‹ã€Œã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè¡Œç’°å¢ƒã€**ã§ã™ã€‚

*   **ä¸­èº«ã¯ï¼Ÿ**
    *   ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¸­èº«ã‚’ãã®ã¾ã¾ã‚³ãƒ”ãƒ¼ã—ã¦ã€å®Ÿè¡ŒçŠ¶æ…‹ã«ã—ãŸã‚‚ã®ã€‚
*   **ç‰¹å¾´ã¯ï¼Ÿ**
    *   **å®Ÿéš›ã«å‹•ã„ã¦ã„ã¾ã™ã€‚** ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã‚Šã€ä¸­ã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã‚Šã§ãã¾ã™ã€‚
    *   **ä½¿ã„æ¨ã¦å¯èƒ½**ã§ã™ã€‚ã„ã‚‰ãªããªã£ãŸã‚‰ã‚µã‚¯ãƒƒã¨æ¶ˆã›ã¾ã™ã€‚PCæœ¬ä½“ã®ç’°å¢ƒã¯ä¸€åˆ‡æ±šã‚Œã¾ã›ã‚“ã€‚
    *   ä¸€ã¤ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆè¨­è¨ˆå›³ï¼‰ã‹ã‚‰ã€**ä½•å€‹ã‚‚ã‚³ãƒ³ãƒ†ãƒŠï¼ˆæ–™ç†ï¼‰ã‚’ä½œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚**
    *   ä¾‹ãˆã‚‹ãªã‚‰ã€ã€Œãƒ¬ã‚·ãƒ”é€šã‚Šã«èª¿ç†ã—ã¦ã€ãŠçš¿ã«ç››ã‚Šä»˜ã‘ã‚‰ã‚ŒãŸã‚«ãƒ¬ãƒ¼ã€ã§ã™ã€‚å®Ÿéš›ã«é£Ÿã¹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã‚ˆã­ã€‚

### ã¾ã¨ã‚ï¼šã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã‚³ãƒ³ãƒ†ãƒŠã®é–¢ä¿‚

| | **æ–™ç†ã®ä¾‹ãˆ** | **Dockerã§ã®å½¹å‰²** |
| :--- | :--- | :--- |
| **ã‚¤ãƒ¡ãƒ¼ã‚¸** | **ãƒ¬ã‚·ãƒ”ï¼‹é£Ÿæã‚­ãƒƒãƒˆ** | ã‚¢ãƒ—ãƒªã‚’å‹•ã‹ã™ãŸã‚ã®**è¨­è¨ˆå›³ãƒ»ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ** (å‹•ã‹ãªã„) |
| **ã‚³ãƒ³ãƒ†ãƒŠ** | **å®Œæˆã—ãŸæ–™ç†** | ã‚¤ãƒ¡ãƒ¼ã‚¸ã‹ã‚‰ä½œã‚‰ã‚ŒãŸã€**å®Ÿéš›ã«å‹•ã„ã¦ã„ã‚‹ç’°å¢ƒ** (å‹•ã) |

---

### ã‚‚ã†ä¸€æ­©ï¼šDockerfileã¨ã¯ï¼Ÿ

ã˜ã‚ƒã‚ã€ãã®ã€Œã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆãƒ¬ã‚·ãƒ”ï¼‹é£Ÿæã‚­ãƒƒãƒˆï¼‰ã€ã¯ã©ã†ã‚„ã£ã¦ä½œã‚‹ã®ï¼Ÿ
ãã®ä½œã‚Šæ–¹ã‚’æ›¸ã„ãŸ**ã€Œæœ¬å½“ã®ãƒ¬ã‚·ãƒ”æœ¬ã€**ãŒ **Dockerfile (ãƒ‰ãƒƒã‚«ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«)** ã§ã™ã€‚

Dockerfileã¯ã€ãŸã ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ã“ã‚“ãªé¢¨ã«æ›¸ãã¾ã™ã€‚

```dockerfile
# ã©ã®OSã‚’åœŸå°ã«ã™ã‚‹ã‹ (Ubuntuã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¾ã™)
FROM ubuntu:22.04

# å¿…è¦ãªã‚½ãƒ•ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (Pythonã‚’å…¥ã‚Œã¾ã™)
RUN apt-get update && apt-get install -y python3

# ä½œã£ãŸã‚¢ãƒ—ãƒªã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ (app.pyã‚’ç®±ã®ä¸­ã«ã‚³ãƒ”ãƒ¼ã—ã¾ã™)
COPY ./app.py /app/app.py

# ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ãŸã¨ãã«ã€ã©ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã‹ (python3ã§app.pyã‚’å®Ÿè¡Œã—ã¾ã™)
CMD ["python3", "/app/app.py"]
```

ã“ã®Dockerfileã¨ã„ã†ãƒ¬ã‚·ãƒ”æœ¬ã‚’å…ƒã«ã€DockerãŒé ‘å¼µã£ã¦ææ–™ã‚’é›†ã‚ãŸã‚Šèª¿ç†ã—ãŸã‚Šã—ã¦ã€ã€Œã‚¤ãƒ¡ãƒ¼ã‚¸ï¼ˆæ–™ç†ã‚­ãƒƒãƒˆï¼‰ã€ã‚’ä½œã£ã¦ãã‚Œã‚‹ã®ã§ã™ã€‚

### å…¨ä½“ã®æµã‚Œ

1.  **`Dockerfile` ã‚’æ›¸ã** (ã‚«ãƒ¬ãƒ¼ã®ãƒ¬ã‚·ãƒ”ã‚’è€ƒæ¡ˆã™ã‚‹)
2.  `docker build` ã‚³ãƒãƒ³ãƒ‰ã§ **`ã‚¤ãƒ¡ãƒ¼ã‚¸` ã‚’ä½œã‚‹** (ãƒ¬ã‚·ãƒ”ã‚’å…ƒã«ã€é£Ÿæã‚­ãƒƒãƒˆã‚’ç®±è©°ã‚ã™ã‚‹)
3.  `docker run` ã‚³ãƒãƒ³ãƒ‰ã§ **`ã‚³ãƒ³ãƒ†ãƒŠ` ã‚’èµ·å‹•ã™ã‚‹** (é£Ÿæã‚­ãƒƒãƒˆã‚’ä½¿ã£ã¦ã€ã‚«ãƒ¬ãƒ¼ã‚’èª¿ç†ã—ã¦é£Ÿã¹ã‚‹ï¼)

### Dockerã‚’ä½¿ã†ã¨ä½•ãŒå¬‰ã—ã„ã®ï¼Ÿ

*   **ã©ã“ã§ã‚‚å‹•ãï¼**ï¼šã€Œåƒ•ã®PCã§ã¯å‹•ã„ãŸã®ã«â€¦ã€ãŒãªããªã‚Šã¾ã™ã€‚
*   **ç’°å¢ƒæ§‹ç¯‰ãŒè¶…ãƒ©ã‚¯**ï¼š`docker run`ã‚³ãƒãƒ³ãƒ‰ä¸€ç™ºã§ã€è¤‡é›‘ãªç’°å¢ƒãŒã™ãæ‰‹ã«å…¥ã‚Šã¾ã™ã€‚
*   **PCãŒæ±šã‚Œãªã„**ï¼šã‚³ãƒ³ãƒ†ãƒŠã‚’æ¶ˆã›ã°ã€ä½œã£ãŸç’°å¢ƒã¯è·¡å½¢ã‚‚ãªãæ¶ˆãˆã¾ã™ã€‚æ°—è»½ã«è©¦ã›ã¾ã™ã€‚
*   **è»½é‡ã§é€Ÿã„**ï¼šä»®æƒ³ãƒã‚·ãƒ³ï¼ˆVirtualBoxãªã©ï¼‰ã‚ˆã‚Šãšã£ã¨è»½ãã€ã‚µã‚¯ã‚µã‚¯å‹•ãã¾ã™ã€‚

æœ€åˆã¯é›£ã—ãæ„Ÿã˜ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã“ã®**ã€Œè¨­è¨ˆå›³(ã‚¤ãƒ¡ãƒ¼ã‚¸)ã€ã¨ã€Œå‹•ãå®Ÿä½“(ã‚³ãƒ³ãƒ†ãƒŠ)ã€ã®é–¢ä¿‚**ã•ãˆæ´ã‚ã°ã€ä¸€æ°—ã«ç†è§£ãŒé€²ã¿ã¾ã™ã‚ˆï¼
ã¾ãŸåˆ†ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã‚Œã°ã€ä½•ã§ã‚‚èã„ã¦ãã ã•ã„ã­ã€‚





```dataviewjs
// ===== é–¢é€£ãƒãƒ¼ãƒˆ (ã‚¿ã‚°åŸºæº–) =====
dv.header(3, "é–¢é€£ãƒãƒ¼ãƒˆ");

const currentFile = dv.current();

// ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¿ã‚°ãŒå­˜åœ¨ã—ã€ã‹ã¤ç©ºã®ã‚¿ã‚°ã§ã¯ãªã„å ´åˆã®ã¿å‡¦ç†ã‚’å®Ÿè¡Œ
if (currentFile.file.tags && currentFile.file.tags.length > 0 && currentFile.file.tags[0] !== "") {
    // è¡¨ç¤ºã™ã‚‹ã‚¿ã‚°ã®æœ€å¤§æ•°ã‚’3ã¤ã«åˆ¶é™
    const maxLoop = Math.min(currentFile.file.tags.length, 3);

    for (let i = 0; i < maxLoop; i++) {
        const tag = currentFile.file.tags[i];
        
        // ã‚¿ã‚°ã‹ã‚‰ãƒšãƒ¼ã‚¸ã‚’æ¤œç´¢ (è‡ªåˆ†è‡ªèº«ã¯é™¤å¤–)
        const pages = dv.pages(tag)
            .where(p => p.file.path !== currentFile.file.path) 
            .sort(f => f.file.mtime.ts, "desc")
            .limit(15);
        
        // é–¢é€£ãƒšãƒ¼ã‚¸ãŒè¦‹ã¤ã‹ã£ãŸå ´åˆã®ã¿ãƒªã‚¹ãƒˆè¡¨ç¤º
        if (pages.length > 0) {
            // ã‚¿ã‚°åã‚’å¤ªå­—ã§è¡¨ç¤º
            dv.span(`**${tag}**`); 
            dv.list(pages.file.link);
        }
    }
} else {
    // ã‚¿ã‚°ãŒãªã„å ´åˆã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
    dv.paragraph("ï¼ˆé–¢é€£ã™ã‚‹ã‚¿ã‚°ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“ï¼‰");
}


// ===== ã“ã®ãƒãƒ¼ãƒˆã‹ã‚‰ã®ãƒªãƒ³ã‚¯å…ˆã¨ãã®ãƒšãƒ¼ã‚¸ã®è¢«ãƒªãƒ³ã‚¯ =====
const outgoingLinks = currentFile.file.outlinks;

if (outgoingLinks.length > 0) {
    dv.header(3, "ã“ã®ãƒãƒ¼ãƒˆã‹ã‚‰ã®ãƒªãƒ³ã‚¯å…ˆ");
    
    // outlinksã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ãªã„ã®ã§ã€ãƒ‘ã‚¹ã‹ã‚‰ãƒšãƒ¼ã‚¸æƒ…å ±ã‚’å–å¾—ã™ã‚‹
    const linkedPages = outgoingLinks
        .map(link => dv.page(link.path))
        .filter(page => page); // å­˜åœ¨ã—ãªã„ãƒšãƒ¼ã‚¸(undefined)ã‚’é™¤å¤–

    for (let page of linkedPages) {
        // ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã¨ã—ã¦è¡¨ç¤º
        dv.header(4, page.file.link);
        
        // ãã®ãƒšãƒ¼ã‚¸ã®è¢«ãƒªãƒ³ã‚¯ï¼ˆã©ã“ã‹ã‚‰ãƒªãƒ³ã‚¯ã•ã‚Œã¦ã„ã‚‹ã‹ï¼‰ã‚’è¡¨ç¤º
        if (page.file.inlinks.length > 0) {
            dv.list(page.file.inlinks.sort());
        } else {
            dv.paragraph("ï¼ˆã“ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯ã¯ã‚ã‚Šã¾ã›ã‚“ï¼‰");
        }
    }
}
```