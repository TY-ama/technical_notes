### [参考URL](https://qiita.com/3Zz8Xx/items/3341a795e1c6fa24bf33)

### 必要なファイル作成

- 「Dockerfile」「docker-compose.yml」「Gemfile」「Gemfile.lock」「entrypoint.sh」をコピーしてくる
- GemfileのRailsから下削除
- Gemfile.lock全削除
- すべて保存

## コンテナのビルド

- docker-compose build

### Railsプロジェクトの作成 

- docker-compose run web rails new . --force --database=mysql

### Dockerfileを書き換わる前の物へ

- rails newをするとDockerfileが書き換えられてしまう
	- 以前作ったものから中身をコピー
	- ファイルごと持ってくると権限変更必要
	- 中身 → [[Dockerfile(webページとは若干違う)]]
##### ※注意　Dockerファイルの中身をコピーしてくること

## 権限変更

- sudo chown -R (ユーザ名):(ユーザ名)  /home/(ユーザ名)/(フォルダ名)
	- ()はなし

### 再ビルド

- Railsのインストールでgemfileが更新された
	- 反映させるため再ビルド

### データベースの準備と作成

- /config/database.ymlを編集
	- host: db
	- password: password　へ変更
- コンテナの起動
	- docker compose up -d
- http://localhost:3000 へアクセス
	- NoDatabaseErrorと出た場合は次へ
	- アクセスできなければなにかしらエラー
- データベースの作成
	- docker-compose run web bundle exec rake db:create
	- 作る際にエラーが出た場合はコンテナを再起動 (downしてup)




